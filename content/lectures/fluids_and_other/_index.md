---
title: 4. Жидкости и прочее
author: Роман Козак
credential:
type: docs
prev: 
next: 
toc: true
math: true
---
{{< add_script "js/fluids/stable_fluids.js" >}}


## Intro
Многие методы позволяют симулировать не только жидкости, но и газы.
Базой для почти всех методов является уравнение Навье-Стокса.

$$
\frac{\partial \mathbf{u}}{\partial t} + (\mathbf{u} \cdot \nabla) \mathbf{u} = -\nabla p + \nu \nabla^2 \mathbf{u} + \mathbf{f}
$$

где $\mathbf{u}$ - вектор скорости, $p$ - давление, $\nu$ - вязкость, $\mathbf{f}$ - внешние силы.

Уравнение Навье-Стокса описывает движение жидкости. $\frac{\partial \mathbf{u}}{\partial t}$ - изменение скорости во времени (обычное ускорение) 

Для несжимаемой жидкости уравнение дополняется уравнением хех несжимаемости:

$$
\nabla \cdot \mathbf{u} = 0
$$


Проблема этой формулы в том, что она описывает как что от чего зависит, но совсем не понятно, как ее решать.

Как минимум нужен инструмент описания среды в которой это все происходит. В реальной жизни есть всякие молекулы и группы, у которых можно определить скорость, давление, температуру. В компьютерной графике это все абстрагируется:

Идейно есть два подхода для описания среды:
- Лагранжевый - каждая частица имеет свои параметры, и мы их обновляем
- Эйлеровый - мы разбиваем пространство на ячейки и в каждой ячейке храним параметры
У каждого есть свои минусы и некоторые методы используют гибридный подход.