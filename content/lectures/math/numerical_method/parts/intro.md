---
draft: true
---

## Интро

То ли мы глупые то ли вселенная такая несовершенная,
но многие дифуры невозможно решить аналитически.
Меня например удивляет, что задача трех тел уже не разрешима
Но с другой стороны если такие траектории можно описать аналитичеки, то это было бы очень круто.
Вы только взгляните, какая красота

{{< include_sketch path="numerical_method/sketch/3_body_sketch.js" base_name="three_body_sketch" >}}

В играх приходится иметь дело с системами гораздо сложнее чем взаимодействие трех тел,
которые тоже врядли получится решить аналитически.
Поэтому много умных людей разработали более универсальные методы -- численные.
Базовая идея -- имея начальную точку получаем
Они дают лишь одно решение в то время как аналитический метод дает все решения.
Но в большинстве случаев нам только одно и нужно. В игре уже есть начальное состояние,
и мы просто хотим узнать что будет дальше.

{{<details title="Формальности" closed="true" >}}
Если говорить чуть формальнее то у нас было уравнение вида
$$
\begin{equation}
    \dot{x} = f(x)
\end{equation}
$$

и мы пытались получить из него решение вида

$$
\begin{equation}
    x = F(t) + C
\end{equation}
$$

подставив в которое начальные коодинаты мы могли найти положение в любой момент времени.
Теперь же мы будем искать траекторию, т.е. из начальной координаты $x_0$ численно находим положение в следующий момент времени $x_1$, из него аналогично $x_2$ и т.д.

$$
\begin{equation}
    x_0 \rightarrow x_1 \rightarrow x_2 \rightarrow \ldots \rightarrow x_k
\end{equation}
$$

{{< /details >}}

Стоит сказать, что все счастливые семьи, в которых все уравнения решаются аналитически, похожи друг на друга, они просто подставляют в решение время и получают все, что нужно. Несчастливая семья же несчастна по своему. Одни разработчики симулируют только частицы , другие только твердые тела. Кому-то очень важна точность, а кому-то нужно чтобы просто было стабильно и хоть немножко похоже на правду. Тут нет правильного рецепта, каждый страдает в мерру своих ограничений.

Здесь я попробую рассказать о самых популярных и используемых методах численного интегрирования.

